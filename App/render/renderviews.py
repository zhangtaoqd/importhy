__author__ = 'zhangtao'
# render 前台界面
import json
from django.shortcuts import render
from App.models import *
from zdCommon import easyuihelp

from zdCommon.sysjson import getMenuList,getMenuListByUser
from zdCommon.dbhelp import fetchSeq

gUI = easyuihelp.EasyuiFieldUI

def indexview(request):
    return render(request, "importhy/index.html")

def logonview(request):
    return render(request, "importhy/logon.html")

def maintabview(request):
    return render(request, "importhy/MainTab.html")

def mainmenutreeview(request):    #
    l_userid = str(request.session['userid'])
    if l_userid == "1":
        menudata = getMenuList()
    else:
        menudata = getMenuListByUser(l_userid)
    return render(request, "importhy/MainMenuTree.html",locals())

def getcommonsearchview(request):
    return render(request, "importhy/component/commonSearchTemplate.html")
def filterview(request):
    id = easyuihelp.EasyuiFieldUI(model=FilterHead,field='id')
    datagrid = easyuihelp.EasyuiFieldUI(model=FilterHead,field='datagrid',hidden=True)
    filter_type = easyuihelp.EasyuiFieldUI(model=FilterHead,field='filter_type')
    filter_name = easyuihelp.EasyuiFieldUI(model=FilterHead,field='filter_name',autoforeign=True,foreigndisplayfield='username')
    return render(request, "importhy/component/filterselect.html",locals())
def logview(request):
    return render(request,"importhy/option/logview.html")
def sysmenuview(request):
    id = easyuihelp.EasyuiFieldUI(model=SysMenu,field='id')
    menuname = easyuihelp.EasyuiFieldUI(model=SysMenu,field='menuname')
    menushowname = easyuihelp.EasyuiFieldUI(model=SysMenu,field='menushowname')
    parent_id = easyuihelp.EasyuiFieldUI(model=SysMenu,field='parent',autoforeign=True,foreigndisplayfield='menushowname')
    sortno = easyuihelp.EasyuiFieldUI(model=SysMenu,field='sortno')
    sys_flag = easyuihelp.EasyuiFieldUI(model=SysMenu,field='sys_flag')
    remark = easyuihelp.EasyuiFieldUI(model=SysMenu,field='remark')
    return render(request, 'importhy/sysdata/sysmenu.html',locals())
def sysfuncview(request):
    id = easyuihelp.EasyuiFieldUI(model=SysFunc,field='id')
    funcname = easyuihelp.EasyuiFieldUI(model=SysFunc,field='funcname',width=200)
    ref_tables = easyuihelp.EasyuiFieldUI(model=SysFunc,field='ref_tables',width=200)
    remark = easyuihelp.EasyuiFieldUI(model=SysFunc,field='remark',width=250)
    return render(request, 'importhy/sysdata/sysfunc.html',locals())
def sysmenufuncview(request):
    menuid = easyuihelp.EasyuiFieldUI(model=SysMenu,field='id')
    menuname = easyuihelp.EasyuiFieldUI(model=SysMenu,field='menuname',width=200)
    menu_parent_id = easyuihelp.EasyuiFieldUI(model=SysMenu,field='parent',autoforeign=True,foreigndisplayfield='menushowname',hidden=True)
    id = easyuihelp.EasyuiFieldUI(model=SysMenuFunc,field='id')
    menu_id = easyuihelp.EasyuiFieldUI(model=SysMenuFunc,field='menu',hidden=True)
    func_id = easyuihelp.EasyuiFieldUI(model=SysMenuFunc,field='func',autoforeign=True,foreigndisplayfield='funcname',width=200)
    remark = easyuihelp.EasyuiFieldUI(model=SysMenuFunc,field='remark',width=200)
    return render(request, 'importhy/sysdata/sysmenufunc.html',locals())
def syscodview(request):
    id = easyuihelp.EasyuiFieldUI(model=SysCode,field='id')
    fldEng = easyuihelp.EasyuiFieldUI(model=SysCode,field='fld_eng')
    fldChi = easyuihelp.EasyuiFieldUI(model=SysCode,field='fld_chi')
    codName = easyuihelp.EasyuiFieldUI(model=SysCode,field='cod_name')
    fldExt1 = easyuihelp.EasyuiFieldUI(model=SysCode,field='fld_ext1')
    fldExt2 = easyuihelp.EasyuiFieldUI(model=SysCode,field='fld_ext2')
    seq = easyuihelp.EasyuiFieldUI(model=SysCode,field='seq')
    remark = easyuihelp.EasyuiFieldUI(model=SysCode,field='remark')
    return render(request, "importhy/sysdata/syscod.html",locals())
def userview(request):
    id = easyuihelp.EasyuiFieldUI(model=User,field='id')
    username = easyuihelp.EasyuiFieldUI(model=User,field='username',width=180)
    #pw = easyuihelp.EasyuiFieldUI(model=User,field='pw',hidden=True)
    locked = easyuihelp.EasyuiFieldUI(model=User,field='locked')
    remark = easyuihelp.EasyuiFieldUI(model = User,field='remark',width=180)
    return render(request, "importhy/basedata/user.html",locals())
def pwupdateview(request):
    return render(request, "importhy/option/pwupdateview.html",locals())
def postview(request):
    id = easyuihelp.EasyuiFieldUI(model=Post,field='id')
    postname = easyuihelp.EasyuiFieldUI(model=Post,field='postname')
    remark = easyuihelp.EasyuiFieldUI(model=Post,field='remark',width=180)
    return render(request, "importhy/basedata/post.html",locals())
def postuserview(request):
    postid = easyuihelp.EasyuiFieldUI(model=Post,field='id')
    postname = easyuihelp.EasyuiFieldUI(model=Post,field='postname')
    id = easyuihelp.EasyuiFieldUI(model=PostUser,field='id')
    post_id = easyuihelp.EasyuiFieldUI(model=PostUser,field='post',hidden=True)
    user_id = easyuihelp.EasyuiFieldUI(model=PostUser,field='user',autoforeign=True,foreigndisplayfield='username',foreignexclude={'username':'Admin'})
    remark = easyuihelp.EasyuiFieldUI(model=PostUser,field='remark',width=180)
    return render(request, "importhy/basedata/postuser.html",locals())
def postmenufuncview(request):
    postid = easyuihelp.EasyuiFieldUI(model=Post,field='id')
    postname = easyuihelp.EasyuiFieldUI(model=Post,field='postname')
    return render(request, "importhy/basedata/postmenufunc.html",locals())
def clientview(request):
    idObj = easyuihelp.EasyuiFieldUI(model=Client,field='id')
    clientNameObj = easyuihelp.EasyuiFieldUI(model=Client,field='client_name',width=200)
    clientFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='client_flag')
    customFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='custom_flag')
    shipcorpFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='ship_corp_flag')
    yardFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='yard_flag')
    portFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='port_flag')
    financialFlagObj = easyuihelp.EasyuiFieldUI(model=Client,field='financial_flag')
    landtransflag = easyuihelp.EasyuiFieldUI(model=Client,field='landtrans_flag')
    creditflag = easyuihelp.EasyuiFieldUI(model=Client,field='credit_flag')
    remarkObj = easyuihelp.EasyuiFieldUI(model=Client,field='remark',width=200)
    protocolid = easyuihelp.EasyuiFieldUI(model=Client,field='protocol',autoforeign=True,foreigndisplayfield='protocol_name')
    return render(request, "importhy/basedata/client.html",locals())
def cntrtypeview(request):
    id = easyuihelp.EasyuiFieldUI(model=CntrType,field='id')
    cntrtype = easyuihelp.EasyuiFieldUI(model=CntrType,field='cntr_type',width=100)
    cntrtypename = easyuihelp.EasyuiFieldUI(model=CntrType,field='cntr_type_name',width=180)
    remark = easyuihelp.EasyuiFieldUI(model=CntrType,field='remark',width=180)
    return render(request, "importhy/basedata/cntrtype.html",locals())
def actionview(request):
    id = easyuihelp.EasyuiFieldUI(model=Action,field='id')
    action_name = easyuihelp.EasyuiFieldUI(model=Action,field='action_name')
    #require_flag = easyuihelp.EasyuiFieldUI(model=Action,field='require_flag')
    sortno = easyuihelp.EasyuiFieldUI(model=Action,field='sortno')
    remark = easyuihelp.EasyuiFieldUI(model=Action,field='remark',width=180)
    return render(request, "importhy/basedata/action.html",locals())
def cargoview(request):
    id = easyuihelp.EasyuiFieldUI(model=Cargo,field='id')
    cargoname = easyuihelp.EasyuiFieldUI(model=Cargo,field='cargo_name')
    remark = easyuihelp.EasyuiFieldUI(model=Cargo,field='remark',width=180)
    return render(request, "importhy/basedata/cargo.html",locals())
def cargotypeview(request):
    id = easyuihelp.EasyuiFieldUI(model=CargoType,field='id')
    typename = easyuihelp.EasyuiFieldUI(model=CargoType,field='type_name')
    remark = easyuihelp.EasyuiFieldUI(model=CargoType,field='remark',width=180)
    return render(request, "importhy/basedata/cargotype.html",locals())
def placeview(request):
    id = easyuihelp.EasyuiFieldUI(model=Place,field='id')
    placename = easyuihelp.EasyuiFieldUI(model=Place,field='place_name')
    remark = easyuihelp.EasyuiFieldUI(model=Place,field='remark',width=180)
    return render(request, "importhy/basedata/place.html",locals())

def dispatchview(request):
    id = easyuihelp.EasyuiFieldUI(model=Dispatch,field='id')
    place_name = easyuihelp.EasyuiFieldUI(model=Dispatch,field='place_name',width=180)
    remark = easyuihelp.EasyuiFieldUI(model=Dispatch,field='remark',width=180)
    return render(request, "importhy/basedata/dispatchplace.html",locals())
def feecodview(request):
    id = easyuihelp.EasyuiFieldUI(model=FeeCod,field='id')
    fee_name = easyuihelp.EasyuiFieldUI(model=FeeCod,field='fee_name')
    pair_flag = easyuihelp.EasyuiFieldUI(model=FeeCod,field='pair_flag')
    remark = easyuihelp.EasyuiFieldUI(model=FeeCod,field='remark',width=180)
    return render(request, "importhy/basedata/feecod.html",locals())
def paytypeview(request):
    id = easyuihelp.EasyuiFieldUI(model=PayType,field='id')
    pay_name = easyuihelp.EasyuiFieldUI(model=PayType,field='pay_name')
    remark = easyuihelp.EasyuiFieldUI(model=PayType,field='remark',width=180)
    return render(request, "importhy/basedata/paytype.html",locals())
def contractview(request):
    seq = str(fetchSeq('seq_html'))
    actionid = easyuihelp.EasyuiFieldUI(model=ContractAction,field='id')
    actioncontractid = easyuihelp.EasyuiFieldUI(model=ContractAction,field='contract',hidden=True)
    action_id = easyuihelp.EasyuiFieldUI(model=ContractAction,field='action',autoforeign=True,foreigndisplayfield='action_name')
    finish_flag = easyuihelp.EasyuiFieldUI(model=ContractAction,field='finish_flag')
    finish_time = easyuihelp.EasyuiFieldUI(model=ContractAction,field='finish_time')
    actionremark = easyuihelp.EasyuiFieldUI(model=ContractAction,field='remark',width=200)
    cntrid = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='id')
    cntrcontractid = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='contract',hidden=True)
    cntr_type = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='cntr_type',autoforeign=True,foreigndisplayfield='cntr_type')
    cntr_num = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='cntr_num')
    check_num = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='check_num')
    cntrremark = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='remark',width=200)
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    customdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='custom',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    shipcorpdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='ship_corp',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    portdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='port',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    yarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='yard',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    landtransdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='landtrans',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    #checkyarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='check_yard_id',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    #unboxyarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='unbox_yard_id',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    creditdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='credit',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    dispatchdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='dispatch_place',autoforeign=True,foreigndisplayfield='place_name').editor['options']['data'],ensure_ascii = False)
    cargonamedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name',autoforeign=True,foreigndisplayfield='cargo_name').editor['options']['data'],ensure_ascii = False)
    cargotypedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_type',autoforeign=True,foreigndisplayfield='type_name').editor['options']['data'],ensure_ascii = False)
    originplacedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='origin_place',autoforeign=True,foreigndisplayfield='place_name').editor['options']['data'],ensure_ascii = False)
    display_toolbar = True
    return render(request, "importhy/contract/contractview.html",locals())

def contractqueryview(request):
    seq = str(fetchSeq('seq_html'))
    id = easyuihelp.EasyuiFieldUI(model=Contract,field='id')
    bill_no = easyuihelp.EasyuiFieldUI(model=Contract,field='bill_no',width=180)
    vslvoy = easyuihelp.EasyuiFieldUI(model=Contract,field='vslvoy',width=180)
    contract_no = easyuihelp.EasyuiFieldUI(model=Contract,field='contract_no',width=180)
    dispatch_place = easyuihelp.EasyuiFieldUI(model=Contract,field='dispatch_place',autoforeign=True,foreigndisplayfield='place_name',width=100)
    cargo_type = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_type',autoforeign=True,foreigndisplayfield='type_name')
    cargo_name = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name',autoforeign=True,foreigndisplayfield='cargo_name')
    origin_place = easyuihelp.EasyuiFieldUI(model=Contract,field='origin_place',autoforeign=True,foreigndisplayfield='place_name')
    custom_title1 = easyuihelp.EasyuiFieldUI(model=Contract,field='custom_title1')
    custom_title2 = easyuihelp.EasyuiFieldUI(model=Contract,field='custom_title2')
    landtrans_id = easyuihelp.EasyuiFieldUI(model=Contract,field='landtrans',autoforeign=True,foreigndisplayfield='client_name')
    check_yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='check_yard',autoforeign=True,foreigndisplayfield='client_name')
    unbox_yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='unbox_yard',autoforeign=True,foreigndisplayfield='client_name')
    credit_id = easyuihelp.EasyuiFieldUI(model=Contract,field='credit',autoforeign=True,foreigndisplayfield='client_name')
    cntr_freedays = easyuihelp.EasyuiFieldUI(model=Contract,field='cntr_freedays')
    client_id = easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name')
    cargo_piece = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_piece')
    cargo_weight = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_weight')
    cargo_volume = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_volume')
    booking_date = easyuihelp.EasyuiFieldUI(model=Contract,field='booking_date')
    pre_inport_date = easyuihelp.EasyuiFieldUI(model=Contract,field='pre_inport_date')
    in_port_date = easyuihelp.EasyuiFieldUI(model=Contract,field='in_port_date')
    return_cntr_date = easyuihelp.EasyuiFieldUI(model=Contract,field='return_cntr_date')
    custom_id = easyuihelp.EasyuiFieldUI(model=Contract,field='custom',autoforeign=True,foreigndisplayfield='client_name')
    ship_corp_id = easyuihelp.EasyuiFieldUI(model=Contract,field='ship_corp',autoforeign=True,foreigndisplayfield='client_name')
    port_id = easyuihelp.EasyuiFieldUI(model=Contract,field='port',autoforeign=True,foreigndisplayfield='client_name')
    yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='yard',autoforeign=True,foreigndisplayfield='client_name')
    finish_time = easyuihelp.EasyuiFieldUI(model=Contract,field='finish_time')
    finish_flag = easyuihelp.EasyuiFieldUI(model=Contract,field='finish_flag')
    remark = easyuihelp.EasyuiFieldUI(model=Contract,field='remark')
    actionid = easyuihelp.EasyuiFieldUI(model=ContractAction,field='id')
    actioncontractid = easyuihelp.EasyuiFieldUI(model=ContractAction,field='contract',hidden=True)
    action_id = easyuihelp.EasyuiFieldUI(model=ContractAction,field='action',autoforeign=True,foreigndisplayfield='action_name')
    finish_flag = easyuihelp.EasyuiFieldUI(model=ContractAction,field='finish_flag')
    finish_time = easyuihelp.EasyuiFieldUI(model=ContractAction,field='finish_time')
    actionremark = easyuihelp.EasyuiFieldUI(model=ContractAction,field='remark',width=200)
    cntrid = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='id')
    cntrcontractid = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='contract',hidden=True)
    cntr_type = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='cntr_type',autoforeign=True,foreigndisplayfield='cntr_type')
    cntr_num = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='cntr_num')
    check_num = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='check_num')
    cntrremark = easyuihelp.EasyuiFieldUI(model=ContractCntr,field='remark',width=200)
    prefee_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='id')
    prefee_contractid = easyuihelp.EasyuiFieldUI(model=PreFee,field='contract',hidden=True)
    prefee_feetyp = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ',hidden=True)
    prefee_feecod = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_cod',autoforeign=True,foreigndisplayfield='fee_name')
    prefee_client = easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    prefee_amount = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount')
    prefee_feetim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_tim')
    prefee_financialtim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_financial_tim')
    prefee_lock_flag = easyuihelp.EasyuiFieldUI(model=PreFee,field='lock_flag')
    prefee_audit_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='audit_flag')
    prefee_ex_feeid = easyuihelp.EasyuiFieldUI(model=PreFee,field='ex_feeid',hidden=True)
    prefee_create_flag = easyuihelp.EasyuiFieldUI(model=PreFee,field='create_flag')
    prefee_remark = easyuihelp.EasyuiFieldUI(model=PreFee,field='remark',width=200)
    display_toolbar = False
    return render(request, "importhy/contract/contractqueryview.html",locals())
def contractreportview(request):
    seq = str(fetchSeq('seq_html'))
    id = easyuihelp.EasyuiFieldUI(model=Contract,field='id')
    bill_no = easyuihelp.EasyuiFieldUI(model=Contract,field='bill_no',width=180)
    current_action = easyuihelp.EasyuiFieldUI(model=Action,field='action_name',title='当前动态',displayfield='current_action')
    cntr_sum = easyuihelp.EasyuiFieldUI(model=Contract,field='remark',title='箱量',displayfield='cntr_sum',width=150)
    check_num = easyuihelp.EasyuiFieldUI(model=Contract,field='remark',title='查验箱量',displayfield='check_num',width=150)
    vslvoy = easyuihelp.EasyuiFieldUI(model=Contract,field='vslvoy',width=180)
    contract_no = easyuihelp.EasyuiFieldUI(model=Contract,field='contract_no',width=180)
    dispatch_place = easyuihelp.EasyuiFieldUI(model=Contract,field='dispatch_place',autoforeign=True,foreigndisplayfield='place_name',width=100)
    cargo_type = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_type',autoforeign=True,foreigndisplayfield='type_name')
    cargo_name = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name',autoforeign=True,foreigndisplayfield='cargo_name')
    origin_place = easyuihelp.EasyuiFieldUI(model=Contract,field='origin_place',autoforeign=True,foreigndisplayfield='place_name')
    custom_title1 = easyuihelp.EasyuiFieldUI(model=Contract,field='custom_title1')
    custom_title2 = easyuihelp.EasyuiFieldUI(model=Contract,field='custom_title2')
    landtrans_id = easyuihelp.EasyuiFieldUI(model=Contract,field='landtrans',autoforeign=True,foreigndisplayfield='client_name')
    check_yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='check_yard',autoforeign=True,foreigndisplayfield='client_name')
    unbox_yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='unbox_yard',autoforeign=True,foreigndisplayfield='client_name')
    credit_id = easyuihelp.EasyuiFieldUI(model=Contract,field='credit',autoforeign=True,foreigndisplayfield='client_name')
    cntr_freedays = easyuihelp.EasyuiFieldUI(model=Contract,field='cntr_freedays')
    client_id = easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name')
    cargo_piece = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_piece')
    cargo_weight = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_weight')
    cargo_volume = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_volume')
    booking_date = easyuihelp.EasyuiFieldUI(model=Contract,field='booking_date')
    pre_inport_date = easyuihelp.EasyuiFieldUI(model=Contract,field='pre_inport_date')
    in_port_date = easyuihelp.EasyuiFieldUI(model=Contract,field='in_port_date')
    return_cntr_date = easyuihelp.EasyuiFieldUI(model=Contract,field='return_cntr_date')
    custom_id = easyuihelp.EasyuiFieldUI(model=Contract,field='custom',autoforeign=True,foreigndisplayfield='client_name')
    ship_corp_id = easyuihelp.EasyuiFieldUI(model=Contract,field='ship_corp',autoforeign=True,foreigndisplayfield='client_name')
    port_id = easyuihelp.EasyuiFieldUI(model=Contract,field='port',autoforeign=True,foreigndisplayfield='client_name')
    yard_id = easyuihelp.EasyuiFieldUI(model=Contract,field='yard',autoforeign=True,foreigndisplayfield='client_name')
    finish_time = easyuihelp.EasyuiFieldUI(model=Contract,field='finish_time')
    finish_flag = easyuihelp.EasyuiFieldUI(model=Contract,field='finish_flag')
    remark = easyuihelp.EasyuiFieldUI(model=Contract,field='remark')
    return render(request, "importhy/contract/contractreportview.html",locals())
def contractgroupreportview(request):
    seq = str(fetchSeq('seq_html'))
    cntr_num = easyuihelp.EasyuiFieldUI(model=Contract,field='remark',title='箱量',displayfield='cntr_num',width=150)
    check_num = easyuihelp.EasyuiFieldUI(model=Contract,field='remark',title='查验箱量',displayfield='check_num',width=150)
    client_id = easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name')
    cargo_type = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_type',autoforeign=True,foreigndisplayfield='type_name')
    cargo_name = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name',autoforeign=True,foreigndisplayfield='cargo_name')
    origin_place = easyuihelp.EasyuiFieldUI(model=Contract,field='origin_place',autoforeign=True,foreigndisplayfield='place_name')
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/contract/contractgroupreportview.html",locals())
def billsearchview(request):
    id = easyuihelp.EasyuiFieldUI(model=Contract,field='id')
    bill_no = easyuihelp.EasyuiFieldUI(model=Contract,field='bill_no',width=150)
    client_id = easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name')
    vslvoy = easyuihelp.EasyuiFieldUI(model=Contract,field='vslvoy')
    cargo_name = easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name')
    in_port_date = easyuihelp.EasyuiFieldUI(model=Contract,field='in_port_date',width=150)
    remark = easyuihelp.EasyuiFieldUI(model=Contract,field='remark')
    return render(request, "importhy/contract/billsearchcombogrid.html",locals())
def prefeeview(request):
    seq = str(fetchSeq('seq_html'))
    prefee_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='id')
    prefee_contractid = easyuihelp.EasyuiFieldUI(model=PreFee,field='contract',hidden=True)
    prefee_feetyp = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ',hidden=True)
    prefee_feecod = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_cod',autoforeign=True,foreigndisplayfield='fee_name')
    prefee_client = easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    prefee_amount = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount')
    prefee_feetim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_tim')
    prefee_financialtim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_financial_tim')
    prefee_lock_flag = easyuihelp.EasyuiFieldUI(model=PreFee,field='lock_flag',readonly=True)
    prefee_audit_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='audit_flag',readonly=True)
    prefee_ex_feeid = easyuihelp.EasyuiFieldUI(model=PreFee,field='ex_feeid',hidden=True)
    prefee_create_flag = easyuihelp.EasyuiFieldUI(model=PreFee,field='create_flag',hidden=True)
    prefee_remark = easyuihelp.EasyuiFieldUI(model=PreFee,field='remark',width=200)
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    customdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='custom',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    shipcorpdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='ship_corp',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    portdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='port',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    yarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='yard',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    landtransdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='landtrans',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    #checkyarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='check_yard_id',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    #unboxyarddata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='unbox_yard_id',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    creditdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='credit',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    cargonamedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_name',autoforeign=True,foreigndisplayfield='cargo_name').editor['options']['data'],ensure_ascii = False)
    cargotypedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='cargo_type',autoforeign=True,foreigndisplayfield='type_name').editor['options']['data'],ensure_ascii = False)
    originplacedata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='origin_place',autoforeign=True,foreigndisplayfield='place_name').editor['options']['data'],ensure_ascii = False)
    dispatchdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='dispatch_place',autoforeign=True,foreigndisplayfield='place_name').editor['options']['data'],ensure_ascii = False)
    display_toolbar = True
    return render(request, "importhy/contract/contractprefeeview.html",locals())
########################### 收费 、 核销 #########
def actfeeview(request):

    idObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='id')
    clientIdObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    feeTypObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_typ')
    amountObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='amount')
    invoiceNoObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='invoice_no',width=100)
    checkNoObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='check_no',width=100)
    acceptno = easyuihelp.EasyuiFieldUI(model=ActFee,field='accept_no',width=100)
    payTypeObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='pay_type',autoforeign=True,foreigndisplayfield='pay_name')
    feeTimObj = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_tim')
    # audit_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_id',hidden=True,readonly=True)
    # ex_feeid = easyuihelp.EasyuiFieldUI(model=ActFee,field='ex_feeid',hidden=True,readonly=True)
    return render(request, "importhy/fee/actfee.html",locals())
def auditview(request):    # 已收费用核销
    seq = str(fetchSeq('seq_html'))
    funcname = '核销'
    check_flag = True
    actfee_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='id')
    actfee_client_Id = easyuihelp.EasyuiFieldUI(model=ActFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    actfee_fee_typ = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_typ')
    actfee_amount = easyuihelp.EasyuiFieldUI(model=ActFee,field='amount')
    actfee_invoice_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='invoice_no',width=100)
    actfee_check_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='check_no',width=100)
    actfee_accept_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='accept_no',width=100)
    actfee_pay_type = easyuihelp.EasyuiFieldUI(model=ActFee,field='pay_type',autoforeign=True,foreigndisplayfield='pay_name')
    actfee_fee_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_tim')
    actfee_ex_feeid = easyuihelp.EasyuiFieldUI(model=ActFee,field='ex_feeid',hidden=True)
    actfee_audit_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_flag',hidden=True)
    actfee_remark = easyuihelp.EasyuiFieldUI(model=ActFee,field='remark',width=200)
    prefee_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='id')
    prefee_contractid = easyuihelp.EasyuiFieldUI(model=PreFee,field='contract',hidden=True)
    prefee_feetyp = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ')
    prefee_feecod = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_cod',autoforeign=True,foreigndisplayfield='fee_name')
    prefee_client = easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name',hidden=True)
    prefee_amount = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount')
    #prefee_feetim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_tim')
    #prefee_financialtim = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_financial_tim')
    #prefee_lock_flag = easyuihelp.EasyuiFieldUI(model=PreFee,field='lock_flag',readonly=True)
    #prefee_audit_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='audit_id',readonly=True)
    prefee_remark = easyuihelp.EasyuiFieldUI(model=PreFee,field='remark',width=200)
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    feetypdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/fee/auditview.html",locals())
def unauditview(request):    # 取消核销
    seq = str(fetchSeq('seq_html'))
    funcname = '取消核销'
    check_flag = False
    actfee_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='id')
    actfee_client_Id = easyuihelp.EasyuiFieldUI(model=ActFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    actfee_fee_typ = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_typ')
    actfee_amount = easyuihelp.EasyuiFieldUI(model=ActFee,field='amount')
    actfee_invoice_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='invoice_no',width=100)
    actfee_check_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='check_no',width=100)
    actfee_accept_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='accept_no',width=100)
    actfee_pay_type = easyuihelp.EasyuiFieldUI(model=ActFee,field='pay_type',autoforeign=True,foreigndisplayfield='pay_name')
    actfee_fee_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_tim',hidden=True)
    actfee_ex_feeid = easyuihelp.EasyuiFieldUI(model=ActFee,field='ex_feeid',hidden=True)
    actfee_audit_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_flag',hidden=True)
    actfee_audit_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_tim')
    actfee_remark = easyuihelp.EasyuiFieldUI(model=ActFee,field='remark',width=200)
    prefee_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='id')
    prefee_contractid = easyuihelp.EasyuiFieldUI(model=PreFee,field='contract',hidden=True)
    prefee_feetyp = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ')
    prefee_feecod = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_cod',autoforeign=True,foreigndisplayfield='fee_name')
    prefee_client = easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name',hidden=True)
    prefee_amount = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount')
    prefee_remark = easyuihelp.EasyuiFieldUI(model=PreFee,field='remark',width=200)
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    feetypdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/fee/unauditview.html",locals())
def auditqueryview(request):    # 核销查询
    seq = str(fetchSeq('seq_html'))
    check_flag = False
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    feetypdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ').editor['options']['data'],ensure_ascii = False)
    audit_amount = easyuihelp.EasyuiFieldUI(model=ActFee,field='amount')
    audit_ex_over = easyuihelp.EasyuiFieldUI(model=ActFee,field='ex_over',hidden=True)
    audit_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_tim')
    actfee_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='id')
    actfee_client_Id = easyuihelp.EasyuiFieldUI(model=ActFee,field='client',autoforeign=True,foreigndisplayfield='client_name')
    actfee_fee_typ = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_typ')
    actfee_amount = easyuihelp.EasyuiFieldUI(model=ActFee,field='amount')
    actfee_invoice_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='invoice_no',width=100)
    actfee_check_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='check_no',width=100)
    actfee_accept_no = easyuihelp.EasyuiFieldUI(model=ActFee,field='accept_no',width=100)
    actfee_pay_type = easyuihelp.EasyuiFieldUI(model=ActFee,field='pay_type',autoforeign=True,foreigndisplayfield='pay_name')
    actfee_fee_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='fee_tim',hidden=True)
    actfee_ex_feeid = easyuihelp.EasyuiFieldUI(model=ActFee,field='ex_feeid',hidden=True)
    actfee_audit_id = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_flag',hidden=True)
    actfee_audit_tim = easyuihelp.EasyuiFieldUI(model=ActFee,field='audit_tim',hidden=True)
    actfee_remark = easyuihelp.EasyuiFieldUI(model=ActFee,field='remark',width=200)
    prefee_id = easyuihelp.EasyuiFieldUI(model=PreFee,field='id')
    prefee_contractid = easyuihelp.EasyuiFieldUI(model=PreFee,field='contract',hidden=True)
    prefee_feetyp = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ')
    prefee_feecod = easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_cod',autoforeign=True,foreigndisplayfield='fee_name')
    prefee_client = easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name',hidden=True)
    prefee_amount = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount')
    prefee_remark = easyuihelp.EasyuiFieldUI(model=PreFee,field='remark',width=200,hidden=True)

    return render(request, "importhy/fee/auditqueryview.html",locals())
def feesheetview(request):
    bill_no = easyuihelp.EasyuiFieldUI(model=Contract,field='bill_no',width=180)
    baogan = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='baogan',title='包干费')
    chaoqi = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='chaoqi',title='超期费')
    duicun = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='duicun',title='堆存费')
    banyi = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='banyi',title='搬移费')
    yanhuo = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='yanhuo',title='验货费')
    xunzheng = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='xunzheng',title='熏蒸费')
    changdi = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='changdi',title='场地费')
    tuoche = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='tuoche',title='拖车费')
    zhibao = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='zhibao',title='滞报金')
    qita = easyuihelp.EasyuiFieldUI(model=PreFee,field='amount',displayfield='qita',title='其他')
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    feetypdata = json.dumps(easyuihelp.EasyuiFieldUI(model=PreFee,field='fee_typ').editor['options']['data'],ensure_ascii = False)
    rptdata = json.dumps(easyuihelp.EasyuiFieldUI(model=RptItem,field='rpt',autoforeign=True,foreigndisplayfield='rpt_name').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/contract/feesheetview.html",locals())
def filteroptionview(request):
    return render(request, "importhy/component/filternametype.html")
def rptview(request):
    rpt_id = easyuihelp.EasyuiFieldUI(model=Rpt,field='id')
    rpt_rptname = easyuihelp.EasyuiFieldUI(model=Rpt,field='rpt_name',width=120)
    rptitem_id = easyuihelp.EasyuiFieldUI(model=RptItem,field='id')
    rptitem_rptid = easyuihelp.EasyuiFieldUI(model=RptItem,field='rpt',hidden=True,readonly=True)
    rptitem_itemname = easyuihelp.EasyuiFieldUI(model=RptItem,field='item_name',title='项目名称',width=120)
    rptitem_sortno = easyuihelp.EasyuiFieldUI(model=RptItem,field='sort_no')
    fee_id = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='fee',autoforeign=True,foreigndisplayfield='fee_name',title='费用名称',width=180,displayfield='id')
    #fee_feename = easyuihelp.EasyuiFieldUI(model=FeeCod,field='fee_name',width=180)
    rptfee_id = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='id')
    rptfee_rptid = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='rpt',hidden=True)
    rptfee_itemid = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='item',hidden=True)
    rptfee_feeid = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='fee',autoforeign=True,foreigndisplayfield='fee_name',title='费用名称',width=180)
    rptfee_feetyp = easyuihelp.EasyuiFieldUI(model=RptItemFee,field='fee_typ')
    return render(request, "importhy/fee/rptview.html",locals())
def protocolfeecreateview(request):
    clientdata = json.dumps(easyuihelp.EasyuiFieldUI(model=Contract,field='client',autoforeign=True,foreigndisplayfield='client_name').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/fee/protocolfeeview.html",locals())
def protocolview(request):
    id = easyuihelp.EasyuiFieldUI(model=Protocol,field='id')
    protocol_name = easyuihelp.EasyuiFieldUI(model=Protocol,field='protocol_name')
    write_date = easyuihelp.EasyuiFieldUI(model=Protocol,field='write_date')
    validate_date = easyuihelp.EasyuiFieldUI(model=Protocol,field='validate_date')
    remark = easyuihelp.EasyuiFieldUI(model=Protocol,field='remark',width=200)
    return render(request, "importhy/protocol/protocolview.html",locals())
def protocolfeeeleview(request):
    id = easyuihelp.EasyuiFieldUI(model=FeeEle,field='id')
    ele_name = easyuihelp.EasyuiFieldUI(model=FeeEle,field='ele_name')
    init_data_sql = easyuihelp.EasyuiFieldUI(model=FeeEle,field='init_data_sql')
    remark = easyuihelp.EasyuiFieldUI(model=Protocol,field='remark',width=200)
    return render(request, "importhy/protocol/protocoleleview.html",locals())
def protocolfeeelelovview(request):
    ele_name = easyuihelp.EasyuiFieldUI(model=FeeEle,field='ele_name')
    id = easyuihelp.EasyuiFieldUI(model=FeeEleLov,field='id')
    ele_id = easyuihelp.EasyuiFieldUI(model=FeeEleLov,field='ele',hidden=True)
    lov_cod = easyuihelp.EasyuiFieldUI(model=FeeEleLov,field='lov_cod')
    lov_name = easyuihelp.EasyuiFieldUI(model=FeeEleLov,field='lov_name')
    remark = easyuihelp.EasyuiFieldUI(model=FeeEleLov,field='remark',width=200)
    return render(request, "importhy/protocol/protocolfeeelelovview.html",locals())

def protocolmodview(request):
    id = easyuihelp.EasyuiFieldUI(model=FeeMod,field='id')
    mod_name = easyuihelp.EasyuiFieldUI(model=FeeMod,field='mod_name')
    col_1 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_1',autoforeign=True,foreigndisplayfield='ele_name')
    col_2 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_2',autoforeign=True,foreigndisplayfield='ele_name')
    col_3 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_3',autoforeign=True,foreigndisplayfield='ele_name')
    col_4 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_4',autoforeign=True,foreigndisplayfield='ele_name')
    col_5 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_5',autoforeign=True,foreigndisplayfield='ele_name')
    col_6 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_6',autoforeign=True,foreigndisplayfield='ele_name')
    col_7 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_7',autoforeign=True,foreigndisplayfield='ele_name')
    col_8 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_8',autoforeign=True,foreigndisplayfield='ele_name')
    col_9 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_9',autoforeign=True,foreigndisplayfield='ele_name')
    col_10 = easyuihelp.EasyuiFieldUI(model=FeeMod,field='col_10',autoforeign=True,foreigndisplayfield='ele_name')
    mod_descript = easyuihelp.EasyuiFieldUI(model=FeeMod,field='mod_descript')
    deal_process = easyuihelp.EasyuiFieldUI(model=FeeMod,field='deal_process')
    remark = easyuihelp.EasyuiFieldUI(model=FeeMod,field='remark',width=200)
    return render(request, "importhy/protocol/protocolmodview.html",locals())
def protocolfeemodview(request):
    protocol_id = easyuihelp.EasyuiFieldUI(model=Protocol,field='id')
    protocol_protocol_name = easyuihelp.EasyuiFieldUI(model=Protocol,field="protocol_name",width=180)
    fee_id = easyuihelp.EasyuiFieldUI(model=FeeCod,field='id')
    fee_fee_name = easyuihelp.EasyuiFieldUI(model=FeeCod,field='fee_name',width=180)
    feemod_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='id')
    feemod_protocol_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='protocol',hidden=True)
    feemod_fee_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='fee',hidden=True)
    feemod_mod_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='mod',autoforeign=True,foreigndisplayfield='mod_name')
    #feemod_sort_no = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='sort_no')
    #feemod_active_flag = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='active_flag')
    mod_id = easyuihelp.EasyuiFieldUI(model=FeeMod,field='id')
    mod_mod_name = easyuihelp.EasyuiFieldUI(model=FeeMod,field='mod_name')
    mod_mod_descript = easyuihelp.EasyuiFieldUI(model=FeeMod,field='mod_descript',readonly=True,hidden=True)
    return render(request, "importhy/protocol/protocolmodmanagerview.html",locals())
def protocolratview(request):
    protocol_id = easyuihelp.EasyuiFieldUI(model=Protocol,field='id')
    protocol_protocol_name = easyuihelp.EasyuiFieldUI(model=Protocol,field="protocol_name",width=180)
    feemod_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='id')
    feemod_protocol_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='protocol',hidden=True)
    feemod_fee_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='fee',autoforeign=True,foreigndisplayfield='fee_name',hidden=True)
    feemod_mod_id = easyuihelp.EasyuiFieldUI(model=ProtocolMod,field='mod',autoforeign=True,foreigndisplayfield='mod_name')
    rat_id = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='id')
    rat_protocol_id = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='protocol',hidden=True,readonly=True)
    rat_fee_id = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='fee',hidden=True,readonly=True)
    rat_mod_id = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='mod',hidden=True,readonly=True)
    rat_feerat = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='fee_rat')
    rat_discountrat = easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='discount_rat')
    return render(request, "importhy/protocol/protocolratview.html",locals())
def protocolratcopyview(request):
    protocoldata = json.dumps(easyuihelp.EasyuiFieldUI(model=ProtocolFeeRat,field='protocol',autoforeign=True,foreigndisplayfield='protocol_name').editor['options']['data'],ensure_ascii = False)
    return render(request, "importhy/protocol/protocolratcopyview.html",locals())


'''
from zdCommon import easyuihelp
from App import models
id = easyuihelp.EasyuiFieldUI(model=FilterHead,field='id')
'''